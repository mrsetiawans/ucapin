<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>üíù Untuk Hani Febiana</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Lora:ital,wght@0,400;0,500;1,400&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        :root {
            --cream: #fef9f3;
            --blush: #fce4e4;
            --rose: #e8b4b8;
            --dusty-rose: #c9929a;
            --deep-rose: #a26769;
            --burgundy: #67292b;
            --gold: #d4a853;
            --soft-gold: #f0dca0;
            --dark: #2d1f1f;
            --white: #ffffff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Lora', serif;
            background: var(--cream);
            color: var(--dark);
            overflow-x: hidden;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--blush); }
        ::-webkit-scrollbar-thumb { background: var(--rose); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--dusty-rose); }

        /* Loader */
        .loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--burgundy) 0%, var(--deep-rose) 100%);
            z-index: 10000;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            transition: opacity 0.8s ease, visibility 0.8s ease;
        }

        .loader.hidden {
            opacity: 0;
            visibility: hidden;
        }

        .loader-heart {
            font-size: 4rem;
            animation: heartPulse 1s ease-in-out infinite;
        }

        .loader-text {
            font-family: 'Great Vibes', cursive;
            font-size: 2rem;
            color: var(--soft-gold);
            margin-top: 1rem;
            opacity: 0;
            animation: fadeIn 1s ease forwards 0.5s;
        }

        @keyframes heartPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.3); }
        }

        @keyframes fadeIn {
            to { opacity: 1; }
        }

        /* Floating Petals */
        .floating-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }

        .petal {
            position: absolute;
            opacity: 0.7;
            animation: petalFall linear infinite;
        }

        @keyframes petalFall {
            0% {
                transform: translateY(-100px) rotate(0deg) translateX(0);
                opacity: 0;
            }
            10% { opacity: 0.7; }
            90% { opacity: 0.7; }
            100% {
                transform: translateY(100vh) rotate(360deg) translateX(100px);
                opacity: 0;
            }
        }

        /* Sparkle on click */
        .sparkle {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            animation: sparkleAnim 1s ease-out forwards;
        }

        @keyframes sparkleAnim {
            0% { transform: scale(1) rotate(0deg); opacity: 1; }
            100% { transform: scale(0) rotate(180deg); opacity: 0; }
        }

        /* ==================== COUNTDOWN SECTION ==================== */
        .countdown-section {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            background: linear-gradient(180deg, var(--burgundy) 0%, var(--deep-rose) 50%, var(--rose) 100%);
            position: relative;
            overflow: hidden;
        }

        .countdown-bg-text {
            position: absolute;
            font-family: 'Great Vibes', cursive;
            font-size: clamp(8rem, 30vw, 20rem);
            color: rgba(255,255,255,0.03);
            white-space: nowrap;
            user-select: none;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .countdown-content {
            position: relative;
            z-index: 2;
            text-align: center;
        }

        .countdown-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .countdown-title {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(2.5rem, 8vw, 4rem);
            color: var(--soft-gold);
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 10px rgba(0,0,0,0.3);
        }

        .countdown-subtitle {
            font-family: 'Lora', serif;
            font-size: clamp(1rem, 3vw, 1.2rem);
            color: var(--blush);
            margin-bottom: 3rem;
            font-style: italic;
        }

        .countdown-timer {
            display: flex;
            gap: 0.8rem;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 3rem;
        }

        .time-box {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 20px;
            padding: 1.5rem 1rem;
            min-width: 80px;
            text-align: center;
            transition: all 0.3s ease;
        }

        .time-box:hover {
            transform: translateY(-10px) scale(1.05);
            background: rgba(255,255,255,0.2);
            box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        }

        .time-value {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2rem, 8vw, 3rem);
            font-weight: 700;
            color: var(--white);
            display: block;
            line-height: 1;
        }

        .time-label {
            font-size: 0.7rem;
            color: var(--soft-gold);
            text-transform: uppercase;
            letter-spacing: 0.2em;
            margin-top: 0.5rem;
        }

        .countdown-message {
            max-width: 400px;
            padding: 2rem;
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .countdown-message p {
            font-family: 'Lora', serif;
            font-size: 1.1rem;
            color: var(--blush);
            line-height: 1.8;
            font-style: italic;
        }

        .countdown-message .highlight {
            color: var(--soft-gold);
            font-weight: 600;
        }

        .waiting-heart {
            display: inline-block;
            color: #ff6b6b;
            animation: heartBeat 1.5s ease-in-out infinite;
        }

        @keyframes heartBeat {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.1); }
            35% { transform: scale(1); }
            45% { transform: scale(1.15); }
        }

        /* ==================== BIRTHDAY CONTENT ==================== */
        .birthday-content {
            display: none;
        }

        .birthday-content.active {
            display: block;
        }

        /* Entrance Gate */
        .entrance-gate {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: linear-gradient(180deg, var(--burgundy) 0%, var(--deep-rose) 100%);
            position: relative;
            overflow: hidden;
        }

        .gate-ornament {
            position: absolute;
            width: 200px;
            height: 200px;
            border: 2px solid var(--gold);
            border-radius: 50%;
            opacity: 0.2;
            animation: pulse 4s ease-in-out infinite;
        }

        .gate-ornament:nth-child(1) { top: 10%; left: -100px; }
        .gate-ornament:nth-child(2) { bottom: 10%; right: -100px; width: 150px; height: 150px; animation-delay: 1s; }
        .gate-ornament:nth-child(3) { top: 50%; left: 50%; transform: translate(-50%, -50%); width: 300px; height: 300px; animation-delay: 2s; }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.2; }
            50% { transform: scale(1.1); opacity: 0.4; }
        }

        .gate-content {
            text-align: center;
            z-index: 2;
            padding: 2rem;
        }

        .gate-greeting {
            font-family: 'Lora', serif;
            font-size: 1rem;
            color: var(--soft-gold);
            letter-spacing: 0.5em;
            text-transform: uppercase;
            margin-bottom: 1rem;
            opacity: 0;
            animation: slideUp 1s ease forwards 0.5s;
        }

        .gate-name {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(3rem, 15vw, 7rem);
            color: var(--white);
            text-shadow: 0 0 30px rgba(212, 168, 83, 0.5);
            margin-bottom: 1rem;
            opacity: 0;
            animation: nameGlow 1.5s ease forwards 1s;
        }

        @keyframes nameGlow {
            0% {
                opacity: 0;
                transform: scale(0.8);
                text-shadow: 0 0 0 rgba(212, 168, 83, 0);
            }
            100% {
                opacity: 1;
                transform: scale(1);
                text-shadow: 0 0 40px rgba(212, 168, 83, 0.6);
            }
        }

        .gate-age {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.5rem, 5vw, 2rem);
            color: var(--soft-gold);
            margin-bottom: 0.5rem;
            opacity: 0;
            animation: slideUp 1s ease forwards 1.5s;
        }

        .gate-date {
            font-size: 0.9rem;
            color: var(--rose);
            letter-spacing: 0.3em;
            opacity: 0;
            animation: slideUp 1s ease forwards 1.8s;
        }

        .enter-btn {
            margin-top: 3rem;
            padding: 1rem 3rem;
            font-family: 'Lora', serif;
            font-size: 1rem;
            color: var(--burgundy);
            background: linear-gradient(135deg, var(--soft-gold) 0%, var(--gold) 100%);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            opacity: 0;
            animation: slideUp 1s ease forwards 2.2s;
        }

        .enter-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(212, 168, 83, 0.4);
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Main Experience */
        .main-experience {
            display: none;
        }

        .main-experience.active {
            display: block;
        }

        /* Scenes */
        .scene {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 3rem 1.5rem;
            position: relative;
            overflow: hidden;
        }

        /* Scene 1: Opening with typewriter */
        .scene-opening {
            background: linear-gradient(180deg, var(--cream) 0%, var(--blush) 100%);
        }

        .opening-content {
            text-align: center;
            max-width: 600px;
        }

        .opening-title {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(2.5rem, 10vw, 5rem);
            color: var(--burgundy);
            margin-bottom: 1rem;
            opacity: 0;
            transform: translateY(30px);
            transition: all 1s ease;
        }

        .opening-title.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .typewriter-box {
            background: white;
            padding: 2rem;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(103, 41, 43, 0.1);
            margin-top: 2rem;
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.8s ease 0.5s;
        }

        .typewriter-box.visible {
            opacity: 1;
            transform: scale(1);
        }

        .typewriter-text {
            font-family: 'Lora', serif;
            font-size: clamp(1rem, 3vw, 1.2rem);
            color: var(--dark);
            line-height: 2;
            text-align: center;
        }

        .cursor {
            display: inline-block;
            width: 2px;
            height: 1.2em;
            background: var(--burgundy);
            margin-left: 2px;
            animation: blink 1s step-end infinite;
            vertical-align: text-bottom;
        }

        @keyframes blink {
            50% { opacity: 0; }
        }

        /* Scene 2: Story cards with flip effect */
        .scene-story {
            background: linear-gradient(180deg, var(--blush) 0%, var(--rose) 100%);
            padding: 5rem 1.5rem;
        }

        .story-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .story-title {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(2rem, 8vw, 4rem);
            color: var(--burgundy);
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }

        .story-title.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .story-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            max-width: 900px;
            width: 100%;
        }

        .flip-card {
            height: 300px;
            perspective: 1000px;
            cursor: pointer;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.6s ease;
        }

        .flip-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            transform-style: preserve-3d;
        }

        .flip-card.flipped .flip-card-inner {
            transform: rotateY(180deg);
        }

        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 25px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            text-align: center;
        }

        .flip-card-front {
            background: white;
            box-shadow: 0 15px 50px rgba(103, 41, 43, 0.15);
        }

        .flip-card-back {
            background: linear-gradient(135deg, var(--burgundy), var(--deep-rose));
            transform: rotateY(180deg);
        }

        .card-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .card-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.3rem;
            color: var(--burgundy);
            margin-bottom: 0.5rem;
        }

        .card-hint {
            font-size: 0.85rem;
            color: var(--dusty-rose);
            font-style: italic;
        }

        .card-content {
            font-family: 'Lora', serif;
            font-size: 0.95rem;
            color: var(--cream);
            line-height: 1.8;
        }

        /* Scene 3: Interactive Letter */
        .scene-letter {
            background: var(--cream);
            padding: 5rem 1.5rem;
        }

        .envelope-container {
            max-width: 400px;
            width: 100%;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s ease;
        }

        .envelope-container.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .envelope {
            position: relative;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .envelope:hover {
            transform: translateY(-10px);
        }

        .envelope-body {
            background: linear-gradient(135deg, var(--rose) 0%, var(--dusty-rose) 100%);
            border-radius: 10px;
            padding: 4rem 2rem 2rem;
            position: relative;
            box-shadow: 0 20px 60px rgba(103, 41, 43, 0.25);
        }

        .envelope-flap {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: linear-gradient(135deg, var(--dusty-rose) 0%, var(--deep-rose) 100%);
            clip-path: polygon(0 0, 50% 100%, 100% 0);
            transform-origin: top;
            transition: transform 0.6s ease;
            z-index: 2;
        }

        .envelope.opened .envelope-flap {
            transform: rotateX(180deg);
        }

        .envelope-seal {
            position: absolute;
            top: 70px;
            left: 50%;
            transform: translateX(-50%);
            width: 70px;
            height: 70px;
            background: var(--gold);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            z-index: 3;
            transition: all 0.6s ease;
        }

        .envelope.opened .envelope-seal {
            transform: translateX(-50%) scale(0) rotate(180deg);
        }

        .envelope-inner {
            text-align: center;
            color: white;
            font-family: 'Lora', serif;
            opacity: 0;
            transition: opacity 0.5s ease 0.3s;
        }

        .envelope.opened .envelope-inner {
            opacity: 1;
        }

        .envelope-hint {
            font-size: 0.9rem;
            color: rgba(255,255,255,0.8);
            font-style: italic;
            margin-top: 1rem;
        }

        .envelope.opened .envelope-hint {
            display: none;
        }

        /* Letter Scroll */
        .letter-scroll {
            display: none;
            max-width: 600px;
            width: 100%;
            margin-top: 2rem;
        }

        .letter-scroll.active {
            display: block;
            animation: unfoldLetter 1s ease forwards;
        }

        @keyframes unfoldLetter {
            from {
                opacity: 0;
                transform: scaleY(0);
                transform-origin: top;
            }
            to {
                opacity: 1;
                transform: scaleY(1);
            }
        }

        .letter-paper {
            background: linear-gradient(to bottom, #fffaf3, #fff5e6);
            border-radius: 5px;
            padding: 2.5rem 2rem;
            box-shadow: 0 15px 50px rgba(103, 41, 43, 0.15);
            position: relative;
        }

        .letter-paper::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                transparent,
                transparent 28px,
                var(--blush) 28px,
                var(--blush) 29px
            );
            opacity: 0.3;
            pointer-events: none;
            border-radius: 5px;
        }

        .letter-header {
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
        }

        .letter-to {
            font-style: italic;
            color: var(--dusty-rose);
        }

        .letter-recipient {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(2rem, 6vw, 2.5rem);
            color: var(--burgundy);
        }

        .letter-body p {
            font-family: 'Lora', serif;
            font-size: clamp(0.95rem, 2.5vw, 1.05rem);
            color: var(--dark);
            line-height: 2;
            margin-bottom: 1.5rem;
            text-align: justify;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
        }

        .letter-body p.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .letter-body p:first-of-type::first-letter {
            font-size: 3.5rem;
            float: left;
            line-height: 1;
            padding-right: 0.5rem;
            color: var(--burgundy);
            font-family: 'Great Vibes', cursive;
        }

        .letter-signature {
            text-align: right;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--blush);
        }

        .letter-closing {
            font-style: italic;
            color: var(--dusty-rose);
        }

        .letter-sender {
            font-family: 'Great Vibes', cursive;
            font-size: 2rem;
            color: var(--burgundy);
            margin-top: 0.5rem;
        }

        /* Scene 4: Wishes Bubbles */
        .scene-wishes {
            background: linear-gradient(180deg, var(--cream) 0%, var(--blush) 50%, var(--rose) 100%);
            padding: 5rem 1.5rem;
        }

        .wishes-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .wishes-title {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(2rem, 8vw, 4rem);
            color: var(--burgundy);
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s ease;
        }

        .wishes-title.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .wishes-subtitle {
            font-family: 'Lora', serif;
            font-size: 1rem;
            color: var(--deep-rose);
            font-style: italic;
            margin-top: 0.5rem;
        }

        .wishes-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
            max-width: 400px;
            width: 100%;
        }

        @media (max-width: 400px) {
            .wishes-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        .wish-bubble {
            aspect-ratio: 1;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
            opacity: 0;
            transform: scale(0);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .wish-bubble.visible {
            animation: bubblePop 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
        }

        @keyframes bubblePop {
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .wish-bubble:nth-child(1) { background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); }
        .wish-bubble:nth-child(2) { background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%); }
        .wish-bubble:nth-child(3) { background: linear-gradient(135deg, #d299c2 0%, #fef9d7 100%); }
        .wish-bubble:nth-child(4) { background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%); }
        .wish-bubble:nth-child(5) { background: linear-gradient(135deg, #fddb92 0%, #d1fdff 100%); }
        .wish-bubble:nth-child(6) { background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); }

        .wish-bubble:hover {
            transform: scale(1.15) !important;
            box-shadow: 0 15px 40px rgba(0,0,0,0.2);
        }

        .wish-bubble:active {
            transform: scale(0.95) !important;
        }

        .wish-icon {
            font-size: 2rem;
        }

        .wish-label {
            font-family: 'Lora', serif;
            font-size: 0.7rem;
            color: var(--burgundy);
            text-align: center;
            margin-top: 0.3rem;
            padding: 0 0.3rem;
        }

        /* Wish Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(45, 31, 31, 0.85);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease;
            padding: 1.5rem;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            border-radius: 30px;
            padding: 2.5rem 2rem;
            max-width: 400px;
            width: 100%;
            text-align: center;
            transform: scale(0.8) translateY(50px);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .modal-overlay.active .modal-content {
            transform: scale(1) translateY(0);
        }

        .modal-icon {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .modal-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: var(--burgundy);
            margin-bottom: 1rem;
        }

        .modal-text {
            font-family: 'Lora', serif;
            font-size: 1rem;
            color: var(--dark);
            line-height: 1.8;
            font-style: italic;
        }

        .modal-close {
            margin-top: 1.5rem;
            padding: 0.8rem 2rem;
            font-family: 'Lora', serif;
            font-size: 0.9rem;
            color: var(--white);
            background: var(--burgundy);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: var(--deep-rose);
            transform: scale(1.05);
        }

        /* Scene 5: Prayer with stars */
        .scene-prayer {
            background: linear-gradient(180deg, var(--burgundy) 0%, #1a0f0f 100%);
            position: relative;
            overflow: hidden;
        }

        .stars-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .star {
            position: absolute;
            width: 3px;
            height: 3px;
            background: white;
            border-radius: 50%;
            animation: twinkle 2s ease-in-out infinite;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.5); }
        }

        .prayer-content {
            text-align: center;
            z-index: 2;
            max-width: 600px;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease;
        }

        .prayer-content.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .prayer-icon {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            animation: float 3s ease-in-out infinite;
        }

        .prayer-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.2rem, 4vw, 1.5rem);
            color: var(--soft-gold);
            letter-spacing: 0.3em;
            margin-bottom: 2rem;
        }

        .prayer-text {
            font-family: 'Lora', serif;
            font-size: clamp(1rem, 3vw, 1.15rem);
            color: var(--cream);
            line-height: 2.2;
            font-style: italic;
        }

        .prayer-amen {
            font-family: 'Great Vibes', cursive;
            font-size: 3rem;
            color: var(--gold);
            margin-top: 2rem;
            animation: glow 2s ease-in-out infinite;
        }

        @keyframes glow {
            0%, 100% { text-shadow: 0 0 10px rgba(212, 168, 83, 0.5); }
            50% { text-shadow: 0 0 30px rgba(212, 168, 83, 0.8), 0 0 60px rgba(212, 168, 83, 0.4); }
        }

        /* Scene 6: Closing */
        .scene-closing {
            background: linear-gradient(180deg, var(--rose) 0%, var(--blush) 50%, var(--cream) 100%);
            text-align: center;
        }

        .closing-content {
            max-width: 500px;
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s ease;
        }

        .closing-content.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .closing-quote {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.3rem, 4vw, 1.8rem);
            color: var(--burgundy);
            font-style: italic;
            line-height: 1.8;
            margin-bottom: 2rem;
            position: relative;
            padding: 0 1.5rem;
        }

        .closing-quote::before,
        .closing-quote::after {
            font-family: 'Great Vibes', cursive;
            font-size: 4rem;
            color: var(--rose);
            position: absolute;
            opacity: 0.5;
        }

        .closing-quote::before {
            content: '"';
            top: -20px;
            left: -10px;
        }

        .closing-quote::after {
            content: '"';
            bottom: -50px;
            right: -10px;
        }

        .closing-from {
            font-family: 'Lora', serif;
            font-size: 0.9rem;
            color: var(--dusty-rose);
            letter-spacing: 0.3em;
            text-transform: uppercase;
            margin-bottom: 0.5rem;
        }

        .closing-sender {
            font-family: 'Great Vibes', cursive;
            font-size: clamp(2rem, 8vw, 3.5rem);
            color: var(--burgundy);
        }

        .hearts-float {
            margin-top: 3rem;
            display: flex;
            justify-content: center;
            gap: 1rem;
            font-size: 2rem;
        }

        .hearts-float span {
            animation: floatHeart 2s ease-in-out infinite;
        }

        .hearts-float span:nth-child(2) { animation-delay: 0.2s; }
        .hearts-float span:nth-child(3) { animation-delay: 0.4s; }
        .hearts-float span:nth-child(4) { animation-delay: 0.6s; }
        .hearts-float span:nth-child(5) { animation-delay: 0.8s; }

        @keyframes floatHeart {
            0%, 100% { transform: translateY(0) scale(1); }
            50% { transform: translateY(-20px) scale(1.2); }
        }

        .replay-btn {
            margin-top: 3rem;
            padding: 1rem 2.5rem;
            font-family: 'Lora', serif;
            font-size: 1rem;
            color: var(--white);
            background: var(--burgundy);
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .replay-btn:hover {
            background: var(--deep-rose);
            transform: scale(1.05);
        }

        /* Confetti */
        .confetti-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9998;
            overflow: hidden;
        }

        .confetti {
            position: absolute;
            animation: confettiFall linear forwards;
        }

        @keyframes confettiFall {
            0% {
                transform: translateY(-10px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(100vh) rotate(720deg);
                opacity: 0;
            }
        }

        /* Music Button */
        .music-btn {
            position: fixed;
            bottom: 1.5rem;
            right: 1.5rem;
            width: 55px;
            height: 55px;
            background: var(--burgundy);
            border: 2px solid var(--gold);
            border-radius: 50%;
            color: var(--soft-gold);
            font-size: 1.3rem;
            cursor: pointer;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            box-shadow: 0 5px 25px rgba(0,0,0,0.3);
        }

        .music-btn:hover {
            transform: scale(1.1);
        }

        .music-btn.playing {
            animation: musicPulse 1s ease-in-out infinite;
        }

        @keyframes musicPulse {
            0%, 100% { box-shadow: 0 5px 25px rgba(0,0,0,0.3); }
            50% { box-shadow: 0 5px 35px rgba(212, 168, 83, 0.5); }
        }

        /* Progress */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--gold), var(--rose));
            z-index: 1000;
            transition: width 0.1s linear;
        }

        /* Responsive */
        @media (max-width: 480px) {
            .time-box {
                min-width: 65px;
                padding: 1rem 0.5rem;
            }

            .letter-paper {
                padding: 2rem 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-bar" id="progressBar"></div>

    <!-- Loader -->
    <div class="loader" id="loader">
        <div class="loader-heart">üíù</div>
        <div class="loader-text">Menyiapkan sesuatu yang istimewa...</div>
    </div>

    <!-- Floating Petals -->
    <div class="floating-elements" id="floatingElements"></div>

    <!-- Confetti -->
    <div class="confetti-container" id="confettiContainer"></div>

    <!-- Modal -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-content">
            <div class="modal-icon" id="modalIcon">üå∏</div>
            <h3 class="modal-title" id="modalTitle">Harapan</h3>
            <p class="modal-text" id="modalText">Isi harapan...</p>
            <button class="modal-close" onclick="closeModal()">Tutup</button>
        </div>
    </div>

    <!-- ==================== COUNTDOWN ==================== -->
    <section class="countdown-section" id="countdownSection">
        <div class="countdown-bg-text">Hani</div>
        <div class="countdown-content">
            <div class="countdown-icon">üéÄ</div>
            <h1 class="countdown-title">Menghitung Waktu</h1>
            <p class="countdown-subtitle">menuju hari yang sangat istimewa...</p>
            
            <div class="countdown-timer">
                <div class="time-box">
                    <span class="time-value" id="days">00</span>
                    <span class="time-label">Hari</span>
                </div>
                <div class="time-box">
                    <span class="time-value" id="hours">00</span>
                    <span class="time-label">Jam</span>
                </div>
                <div class="time-box">
                    <span class="time-value" id="minutes">00</span>
                    <span class="time-label">Menit</span>
                </div>
                <div class="time-box">
                    <span class="time-value" id="seconds">00</span>
                    <span class="time-label">Detik</span>
                </div>
            </div>

            <div class="countdown-message">
                <p>
                    Sabar ya, <span class="highlight">Hani...</span><br>
                    Ada seseorang yang sedang menyiapkan<br>
                    sesuatu yang spesial untukmu<br>
                    di tanggal <span class="highlight">3 Juni 2026</span><br><br>
                    <span class="waiting-heart">‚ô•</span>
                </p>
            </div>
        </div>
    </section>

    <!-- ==================== BIRTHDAY CONTENT ==================== -->
    <div class="birthday-content" id="birthdayContent">
        <!-- Entrance Gate -->
        <section class="entrance-gate" id="entranceGate">
            <div class="gate-ornament"></div>
            <div class="gate-ornament"></div>
            <div class="gate-ornament"></div>
            
            <div class="gate-content">
                <p class="gate-greeting">Selamat Ulang Tahun</p>
                <h1 class="gate-name">Hani Febiana</h1>
                <p class="gate-age">Memasuki usia ke-21</p>
                <p class="gate-date">3 Juni 2026</p>
                <button class="enter-btn" id="enterBtn">‚ú® Buka Hadiah ‚ú®</button>
            </div>
        </section>

        <!-- Main Experience -->
        <div class="main-experience" id="mainExperience">
            <!-- Scene 1: Opening -->
            <section class="scene scene-opening" id="scene0">
                <div class="opening-content">
                    <h2 class="opening-title">Hani yang tercinta...</h2>
                    <div class="typewriter-box">
                        <p class="typewriter-text" id="typewriterText"></p>
                        <span class="cursor" id="cursor"></span>
                    </div>
                </div>
            </section>

            <!-- Scene 2: Story Cards -->
            <section class="scene scene-story" id="scene1">
                <div class="story-header">
                    <h2 class="story-title">Cerita Tentang Kita</h2>
                    <p style="color: var(--deep-rose); font-style: italic; margin-top: 0.5rem;">‚Äî sentuh untuk membuka ‚Äî</p>
                </div>
                
                <div class="story-grid">
                    <div class="flip-card" data-index="0">
                        <div class="flip-card-inner">
                            <div class="flip-card-front">
                                <span class="card-icon">üåÖ</span>
                                <h3 class="card-title">Pertemuan Kita</h3>
                                <p class="card-hint">tap untuk membaca</p>
                            </div>
                            <div class="flip-card-back">
                                <p class="card-content">Dari sekian banyak orang yang berlalu di hidupku, kamu hadir bukan sebagai kebetulan, melainkan sebagai jawaban atas doa yang tak pernah aku ucapkan.</p>
                            </div>
                        </div>
                    </div>

                    <div class="flip-card" data-index="1">
                        <div class="flip-card-inner">
                            <div class="flip-card-front">
                                <span class="card-icon">üíï</span>
                                <h3 class="card-title">Cinta Kita</h3>
                                <p class="card-hint">tap untuk membaca</p>
                            </div>
                            <div class="flip-card-back">
                                <p class="card-content">Mencintaimu bukan tentang kesempurnaan, melainkan tentang menerima setiap sisi dirimu. Cinta kita adalah rumah yang terus kita bangun bersama.</p>
                            </div>
                        </div>
                    </div>

                    <div class="flip-card" data-index="2">
                        <div class="flip-card-inner">
                            <div class="flip-card-front">
                                <span class="card-icon">üåü</span>
                                <h3 class="card-title">Masa Depan</h3>
                                <p class="card-hint">tap untuk membaca</p>
                            </div>
                            <div class="flip-card-back">
                                <p class="card-content">Aku tidak tahu apa yang menanti di depan, tapi satu hal yang pasti‚Äîaku ingin menghadapinya bersamamu. Karena masa depanku, adalah kamu.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Scene 3: Letter -->
            <section class="scene scene-letter" id="scene2">
                <div class="envelope-container">
                    <div class="envelope" id="envelope">
                        <div class="envelope-flap"></div>
                        <div class="envelope-seal">üíå</div>
                        <div class="envelope-body">
                            <div class="envelope-inner">
                                <p>Sebuah surat dari hati<br>yang paling dalam...</p>
                            </div>
                            <p class="envelope-hint">‚Äî tap untuk membuka ‚Äî</p>
                        </div>
                    </div>
                </div>

                <div class="letter-scroll" id="letterScroll">
                    <div class="letter-paper">
                        <div class="letter-header">
                            <span class="letter-to">Untuk yang tercinta,</span>
                            <h2 class="letter-recipient">Hani Febiana</h2>
                        </div>

                        <div class="letter-body">
                            <p>Pada hari ini, di mana matahari pertama kali menyinari wajahmu 21 tahun yang lalu, aku ingin merangkai kata-kata yang mungkin tak akan pernah cukup untuk menggambarkan betapa berharganya kehadiranmu dalam hidupku.</p>

                            <p>Kau adalah puisi yang tak pernah selesai kutulis‚Äîsetiap kali aku mengira telah menemukan kata yang tepat, kau selalu memberiku alasan baru untuk kagum. Kau adalah melodi yang terus berputar di benakku, bahkan di saat dunia terasa sunyi.</p>

                            <p>Di usia ke-21 ini, kau bukan lagi seorang gadis kecil. Kau adalah perempuan dengan segala keindahan dan kekuatanmu. Dan aku, dengan segala kerendahan hati, memohon untuk tetap bisa berjalan di sisimu‚Äîbukan untuk menuntun, tapi untuk menemani.</p>

                            <p>Terima kasih telah memilih untuk tinggal. Terima kasih telah mempercayakan hatimu padaku. Dan terima kasih telah menjadi alasan terbesar di balik setiap senyumku.</p>
                        </div>

                        <div class="letter-signature">
                            <span class="letter-closing">Dengan cinta yang tak terhingga,</span>
                            <p class="letter-sender">Rizal</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Scene 4: Wishes -->
            <section class="scene scene-wishes" id="scene3">
                <div class="wishes-header">
                    <h2 class="wishes-title">Harapan & Doa</h2>
                    <p class="wishes-subtitle">‚Äî sentuh setiap gelembung ‚Äî</p>
                </div>

                <div class="wishes-grid">
                    <div class="wish-bubble" data-wish="0">
                        <span class="wish-icon">üå∏</span>
                        <span class="wish-label">Bahagia</span>
                    </div>
                    <div class="wish-bubble" data-wish="1">
                        <span class="wish-icon">‚ú®</span>
                        <span class="wish-label">Sukses</span>
                    </div>
                    <div class="wish-bubble" data-wish="2">
                        <span class="wish-icon">üí™</span>
                        <span class="wish-label">Sehat</span>
                    </div>
                    <div class="wish-bubble" data-wish="3">
                        <span class="wish-icon">üïäÔ∏è</span>
                        <span class="wish-label">Damai</span>
                    </div>
                    <div class="wish-bubble" data-wish="4">
                        <span class="wish-icon">üí´</span>
                        <span class="wish-label">Mimpi</span>
                    </div>
                    <div class="wish-bubble" data-wish="5">
                        <span class="wish-icon">üíï</span>
                        <span class="wish-label">Cinta</span>
                    </div>
                </div>
            </section>

            <!-- Scene 5: Prayer -->
            <section class="scene scene-prayer" id="scene4">
                <div class="stars-container" id="starsContainer"></div>
                <div class="prayer-content">
                    <div class="prayer-icon">ü§≤</div>
                    <h2 class="prayer-title">DOA UNTUKMU</h2>
                    <p class="prayer-text">
                        "Ya Allah, Sang Maha Pengasih dan Penyayang,<br><br>
                        Pada hari istimewa ini, aku bersujud memohon kepada-Mu untuk kekasihku, Hani Febiana.<br><br>
                        Berikanlah ia kesehatan yang sempurna di setiap hembusan napasnya. Limpahkanlah rezeki yang berkah dalam setiap langkahnya. Hiasi hari-harinya dengan kebahagiaan yang tiada tara.<br><br>
                        Ya Rahman Ya Rahim, jadikanlah ia wanita shalehah yang membawa kebaikan bagi dirinya, keluarganya, dan semua yang mengenalnya. Kuatkanlah imannya, lembutkanlah hatinya, dan indahkanlah akhlaknya.<br><br>
                        Panjangkanlah usianya dalam ketaatan kepada-Mu, dan jika sudah Kau takdirkan kami untuk bersama, jadikanlah hubungan kami membawa keberkahan dunia dan akhirat."
                    </p>
                    <p class="prayer-amen">Aamiin</p>
                </div>
            </section>

            <!-- Scene 6: Closing -->
            <section class="scene scene-closing" id="scene5">
                <div class="closing-content">
                    <p class="closing-quote">
                        "Jika aku diberi kesempatan untuk memilih, 
                    aku akan memilihmu lagi dan lagi, 
                    di setiap kehidupan, di setiap waktu, 
                    selamanya."
                    </p>
                    <span class="closing-from">Dari hati yang mencintaimu sepenuhnya</span>
                    <p class="closing-sender">Muhammad Rizal Setiawan</p>
                    
                    <div class="hearts-float">
                        <span>üíï</span>
                        <span>üíñ</span>
                        <span>üíù</span>
                        <span>üíó</span>
                        <span>üíï</span>
                    </div>

                    <button class="replay-btn" onclick="replayExperience()">üîÑ Baca Lagi dari Awal</button>
                </div>
            </section>
        </div>
    </div>

    <!-- Music Button -->
    <button class="music-btn" id="musicBtn">üéµ</button>

    <script>
        // ==================== CONFIG ====================
        const TARGET_DATE = new Date('2026-06-03T00:00:00').getTime();
        
        const WISHES = [
            { icon: 'üå∏', title: 'Kebahagiaan Abadi', text: 'Semoga setiap detik yang kau lalui dipenuhi dengan kebahagiaan yang tulus. Semoga tawa selalu menghiasi wajahmu, dan hatimu selalu menemukan alasan untuk bersyukur.' },
            { icon: '‚ú®', title: 'Kesuksesan Gemilang', text: 'Semoga setiap impian yang kau ukir menjadi kenyataan. Semoga setiap usaha yang kau tanam berbuah keberhasilan yang manis.' },
            { icon: 'üí™', title: 'Kesehatan Sempurna', text: 'Semoga tubuhmu selalu sehat dan kuat, jiwamu selalu tenang dan damai. Semoga kau diberi kekuatan untuk melewati setiap tantangan.' },
            { icon: 'üïäÔ∏è', title: 'Kedamaian Hati', text: 'Semoga hatimu selalu diliputi kedamaian, pikiranmu bebas dari kekhawatiran, dan jiwamu senantiasa tentram.' },
            { icon: 'üí´', title: 'Mimpi Terwujud', text: 'Semoga setiap malam membawamu mimpi yang indah, dan setiap pagi memberikanmu kekuatan untuk mewujudkannya. Bermimpilah besar, Hani!' },
            { icon: 'üíï', title: 'Cinta Kita Abadi', text: 'Semoga cinta kita terus tumbuh dan berkembang seiring waktu. Semoga kita selalu menemukan cara untuk saling memahami dan mencintai. Selamanya.' }
        ];

        const TYPEWRITER_TEXT = "Aku menulis ini bukan dengan tinta biasa, melainkan dengan segenap perasaan yang selama ini tersimpan di dada. Setiap kata adalah doa, setiap kalimat adalah harapan, dan keseluruhannya adalah bentuk cintaku yang paling jujur untukmu.";

        // ==================== UTILITIES ====================
        function createPetals() {
            const container = document.getElementById('floatingElements');
            const petals = ['üå∏', 'üå∫', 'üíÆ', '‚úø', 'üèµÔ∏è'];
            
            for (let i = 0; i < 15; i++) {
                const petal = document.createElement('div');
                petal.className = 'petal';
                petal.textContent = petals[Math.floor(Math.random() * petals.length)];
                petal.style.left = Math.random() * 100 + '%';
                petal.style.fontSize = (Math.random() * 12 + 12) + 'px';
                petal.style.animationDuration = (Math.random() * 10 + 15) + 's';
                petal.style.animationDelay = Math.random() * 15 + 's';
                container.appendChild(petal);
            }
        }

        function createStars() {
            const container = document.getElementById('starsContainer');
            if (!container) return;
            
            for (let i = 0; i < 60; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 100 + '%';
                star.style.animationDelay = Math.random() * 2 + 's';
                container.appendChild(star);
            }
        }

        function createConfetti() {
            const container = document.getElementById('confettiContainer');
            const colors = ['#e8b4b8', '#d4a853', '#c9929a', '#fce4e4', '#67292b'];
            
            for (let i = 0; i < 100; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.width = (Math.random() * 10 + 5) + 'px';
                confetti.style.height = confetti.style.width;
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                confetti.style.animationDuration = (Math.random() * 3 + 2) + 's';
                confetti.style.animationDelay = Math.random() * 2 + 's';
                container.appendChild(confetti);
            }

            setTimeout(() => container.innerHTML = '', 6000);
        }

        function createSparkle(x, y) {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.textContent = ['‚ú®', 'üí´', '‚≠ê'][Math.floor(Math.random() * 3)];
            sparkle.style.left = x + 'px';
            sparkle.style.top = y + 'px';
            sparkle.style.fontSize = (Math.random() * 15 + 12) + 'px';
            document.body.appendChild(sparkle);
            setTimeout(() => sparkle.remove(), 1000);
        }

        // ==================== COUNTDOWN ====================
        function updateCountdown() {
            const now = Date.now();
            const distance = TARGET_DATE - now;

            if (distance <= 0) {
                showBirthdayContent();
                return false;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = String(days).padStart(2, '0');
            document.getElementById('hours').textContent = String(hours).padStart(2, '0');
            document.getElementById('minutes').textContent = String(minutes).padStart(2, '0');
            document.getElementById('seconds').textContent = String(seconds).padStart(2, '0');

            return true;
        }

        function showBirthdayContent() {
            document.getElementById('countdownSection').style.display = 'none';
            document.getElementById('birthdayContent').classList.add('active');
            createConfetti();
        }

        // ==================== TYPEWRITER ====================
        let typeIndex = 0;
        let typeElement;

        function typeWriter() {
            if (!typeElement) return;
            
            if (typeIndex < TYPEWRITER_TEXT.length) {
                typeElement.textContent += TYPEWRITER_TEXT.charAt(typeIndex);
                typeIndex++;
                setTimeout(typeWriter, 35);
            } else {
                document.getElementById('cursor').style.display = 'none';
            }
        }

        // ==================== MODAL ====================
        function openModal(index) {
            const modal = document.getElementById('modalOverlay');
            const wish = WISHES[index];
            
            document.getElementById('modalIcon').textContent = wish.icon;
            document.getElementById('modalTitle').textContent = wish.title;
            document.getElementById('modalText').textContent = wish.text;
            
            modal.classList.add('active');
        }

        function closeModal() {
            document.getElementById('modalOverlay').classList.remove('active');
        }

        // ==================== SCROLL HANDLER ====================
        let typewriterStarted = false;
        let experienceStarted = false;

        function startTypewriter() {
            if (typewriterStarted) return;
            typewriterStarted = true;
            
            const scene = document.getElementById('scene0');
            scene.querySelector('.opening-title').classList.add('visible');
            
            setTimeout(() => {
                scene.querySelector('.typewriter-box').classList.add('visible');
                typeElement = document.getElementById('typewriterText');
                setTimeout(typeWriter, 500);
            }, 500);
        }

        function handleScroll() {
            const scrollTop = window.scrollY;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const progress = (scrollTop / docHeight) * 100;
            document.getElementById('progressBar').style.width = progress + '%';

            // Scene animations
            document.querySelectorAll('.scene').forEach((scene, index) => {
                const rect = scene.getBoundingClientRect();
                const windowHeight = window.innerHeight;
                
                if (rect.top < windowHeight * 0.75) {
                    // Scene 0 is handled by startTypewriter() on button click
                    
                    if (index === 1) {
                        scene.querySelector('.story-title').classList.add('visible');
                        scene.querySelectorAll('.flip-card').forEach((card, i) => {
                            setTimeout(() => card.classList.add('visible'), i * 200);
                        });
                    }

                    if (index === 2) {
                        scene.querySelector('.envelope-container').classList.add('visible');
                    }

                    if (index === 3) {
                        scene.querySelector('.wishes-title').classList.add('visible');
                        scene.querySelectorAll('.wish-bubble').forEach((bubble, i) => {
                            setTimeout(() => bubble.classList.add('visible'), i * 100);
                        });
                    }

                    if (index === 4) {
                        scene.querySelector('.prayer-content').classList.add('visible');
                    }

                    if (index === 5) {
                        scene.querySelector('.closing-content').classList.add('visible');
                    }
                }
            });
        }

        // ==================== AUDIO ====================
        let audioCtx = null;
        let isPlaying = false;

        function playMelody() {
            if (!isPlaying) return;
            
            const notes = [
                { freq: 523.25, dur: 0.4 },
                { freq: 587.33, dur: 0.4 },
                { freq: 659.25, dur: 0.4 },
                { freq: 523.25, dur: 0.4 },
                { freq: 659.25, dur: 0.4 },
                { freq: 698.46, dur: 0.4 },
                { freq: 659.25, dur: 0.8 },
            ];

            let time = audioCtx.currentTime;

            notes.forEach(note => {
                const osc = audioCtx.createOscillator();
                const gain = audioCtx.createGain();
                
                osc.connect(gain);
                gain.connect(audioCtx.destination);
                
                osc.type = 'sine';
                osc.frequency.value = note.freq;
                
                gain.gain.setValueAtTime(0, time);
                gain.gain.linearRampToValueAtTime(0.06, time + 0.05);
                gain.gain.linearRampToValueAtTime(0, time + note.dur);
                
                osc.start(time);
                osc.stop(time + note.dur);
                
                time += note.dur;
            });

            setTimeout(() => {
                if (isPlaying) playMelody();
            }, time * 1000 + 500);
        }

        function toggleMusic() {
            const btn = document.getElementById('musicBtn');
            
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }

            isPlaying = !isPlaying;
            
            if (isPlaying) {
                btn.classList.add('playing');
                btn.textContent = 'üé∂';
                playMelody();
            } else {
                btn.classList.remove('playing');
                btn.textContent = 'üéµ';
            }
        }

        // ==================== REPLAY ====================
        function replayExperience() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
            
            // Reset animations
            typewriterStarted = false;
            typeIndex = 0;
            if (typeElement) typeElement.textContent = '';
            document.getElementById('cursor').style.display = 'inline-block';
            
            document.querySelectorAll('.visible').forEach(el => el.classList.remove('visible'));
            document.querySelectorAll('.flip-card').forEach(card => card.classList.remove('flipped'));
            document.getElementById('envelope').classList.remove('opened');
            document.getElementById('letterScroll').classList.remove('active');
            document.querySelectorAll('.letter-body p').forEach(p => p.classList.remove('visible'));
            
            setTimeout(handleScroll, 500);
        }

        // ==================== INIT ====================
        document.addEventListener('DOMContentLoaded', function() {
            // Hide loader
            setTimeout(() => {
                document.getElementById('loader').classList.add('hidden');
            }, 2000);

            // Create elements
            createPetals();
            createStars();

            // Countdown
            if (updateCountdown()) {
                setInterval(updateCountdown, 1000);
            }

            // Enter button
            document.getElementById('enterBtn')?.addEventListener('click', function() {
                document.getElementById('entranceGate').style.display = 'none';
                document.getElementById('mainExperience').classList.add('active');
                createConfetti();
                
                // Start typewriter after entering
                setTimeout(() => {
                    startTypewriter();
                }, 300);
                
                setTimeout(handleScroll, 100);
            });

            // Flip cards
            document.querySelectorAll('.flip-card').forEach(card => {
                card.addEventListener('click', function() {
                    this.classList.toggle('flipped');
                });
            });

            // Envelope
            document.getElementById('envelope')?.addEventListener('click', function() {
                if (!this.classList.contains('opened')) {
                    this.classList.add('opened');
                    setTimeout(() => {
                        document.getElementById('letterScroll').classList.add('active');
                        setTimeout(() => {
                            document.querySelectorAll('.letter-body p').forEach((p, i) => {
                                setTimeout(() => p.classList.add('visible'), i * 400);
                            });
                        }, 500);
                    }, 700);
                }
            });

            // Wish bubbles
            document.querySelectorAll('.wish-bubble').forEach(bubble => {
                bubble.addEventListener('click', function() {
                    openModal(parseInt(this.dataset.wish));
                });
            });

            // Modal close on overlay click
            document.getElementById('modalOverlay').addEventListener('click', function(e) {
                if (e.target === this) closeModal();
            });

            // Music
            document.getElementById('musicBtn').addEventListener('click', toggleMusic);

            // Scroll
            window.addEventListener('scroll', handleScroll);
            handleScroll();

            // Sparkle on click
            document.addEventListener('click', (e) => createSparkle(e.clientX, e.clientY));
        });
    </script>
</body>
</html>
